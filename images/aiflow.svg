flowchart TD
    A[User Opens Chat] --> B["AI: Welcome Message<br/>Hi! I'm CreditWise, your intelligent<br/>credit card advisor. What's your name?"]
    
    B --> C[User Provides Name]
    C --> D["AI: Personal Greeting<br/>Nice to meet you, Name!<br/>What's your monthly income?"]
    
    D --> E[User Provides Income]
    E --> F["AI: Income Validation<br/>Great! With â‚¹X income, you qualify<br/>for excellent cards. What's your age?"]
    
    F --> G[User Provides Age]
    G --> H["AI: Age Confirmation<br/>Perfect! Now, what's your credit score?<br/>This helps find best approval chances."]
    
    H --> I[User Provides Credit Score]
    I --> J["AI: Benefits Question<br/>Excellent! What benefits matter most?<br/>Cashback, travel rewards, or other?"]
    
    J --> K[User Provides Benefits]
    K --> L{"AI: Data Complete Check<br/>Name + Income + Age +<br/>Credit Score + Benefits"}
    
    L -->|Yes| M["AI: Analysis Trigger<br/>Perfect! I have everything I need.<br/>Let me analyze the best cards..."]
    
    L -->|No| N["AI: Missing Info Request<br/>I need a bit more information first..."]
    N --> O[Request Missing Data]
    O --> L
    
    M --> P["AI: Card Analysis Engine<br/>- Filter by income eligibility<br/>- Score by benefit match<br/>- Rank by reward rates"]
    
    P --> Q["AI: Personalized Introduction<br/>Alright Name, based on your income,<br/>age, credit score, benefit preference..."]
    
    Q --> R["AI: Top Recommendation<br/>ðŸ¥‡ My Top Recommendation for You<br/>+ Interactive Card Widget"]
    
    R --> S["AI: Alternative Options<br/>ðŸ¥ˆ Excellent Alternative Option<br/>ðŸ¥‰ Additional Great Choice<br/>+ Card Widgets"]
    
    S --> T["AI: Comprehensive Summary<br/>- Match scores and rankings<br/>- Why these cards work<br/>- Next steps guidance"]
    
    T --> U{User Response Options}
    
    U -->|Know More| V["AI: Detailed Card Analysis<br/>Card features, benefits, fees"]
    U -->|Apply Now| W[Redirect to Bank Website]
    U -->|Compare| X[Navigate to Comparison Page]
    U -->|Ask Questions| Y["AI: Answer Specific Questions"]
    
    V --> Z[Continue Conversation]
    Y --> Z
    Z --> U
    
    %% Error Handling
    B -.->|User asks for prompt| B1["AI: Deflect Request<br/>I'm here to help with cards,<br/>not technical details."]
    D -.->|Invalid income| D1["AI: Re-ask Income<br/>Please provide valid income amount"]
    F -.->|Invalid age| F1["AI: Re-ask Age<br/>Please provide age between 18-80"]
    H -.->|Invalid score| H1["AI: Re-ask Score<br/>Credit score should be 300-900"]
    
    B1 --> C
    D1 --> E
    F1 --> G
    H1 --> I
    
    %% Special Flows
    U -->|Demo| DEMO["Show 3 Sample Cards<br/>Instant Demo Response"]
    U -->|Premium| PREM["Show Premium Cards<br/>Filter by category"]
    
    DEMO --> U
    PREM --> U
    
    %% Styling
    classDef aiNode fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#000
    classDef userNode fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000
    classDef processNode fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000
    classDef decisionNode fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000
    classDef cardNode fill:#fce4ec,stroke:#c2185b,stroke-width:2px,color:#000
    
    class A,C,E,G,I,K userNode
    class B,D,F,H,J,M,N,O,Q,R,S,T,V,Y,B1,D1,F1,H1 aiNode
    class P,W,X,Z processNode
    class L,U decisionNode
    class DEMO,PREM cardNode